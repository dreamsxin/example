# top

参数说明
d 指定每两次屏幕信息刷新之间的时间间隔。当然用户可以使用s交互命令来改变之。
u 只查看指定用户名的进程
p 通过指定监控进程ID来仅仅监控某个进程的状态
n 设置退出前屏幕刷新的次数
b 将top输出编排成适合输出到文件的格式，可以使用这个选项创建进程日志
q 该选项将使top没有任何延迟的进行刷新。如果调用程序有超级用户权限，那么top将以尽可能高的优先级运行
c 显示整个命令行而不只是显示命令名
S 指定累计模式
s 使top命令在安全模式中运行。这将去除交互命令所带来的潜在危险。
i 使top不显示任何闲置或者僵死进程。

```shell
top -b -o +%MEM | head -n 17
```
其中 -b 參數是 batch 模式的意思，而 -o 參數則是設定以記憶體用量來排序行程，最後面的 head -n 17 則是篩選 top 輸出的文字內容，只保留前 17 行，剩餘的內容則捨棄。

若要找出最耗費 CPU 資源的行程，則改用 CPU 使用量來排序即可：
```shell
top -b -o +%CPU | head -n 17
```

## 子命令

- P
  切换CPU占用率排序
- M
  切换内存使用率排序
- e
  切换进程内存显示单位
- E
  切换顶部整体内存显示单位
