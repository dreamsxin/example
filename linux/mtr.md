# MTR 分析网络延迟及丢包

```shell
mtr -n -s 1024 -c 10 api.zookingsoft.com
mtr -n --report api.zookingsoft.com
```
MTR参数：

例如：mtr -n -i -a 0.0.0.0 1.1.1.1
- -n no-dns(或简写为-n) :不对IP地址做域名解析
- -s :用来指定ping数据包的大小
- -i :使用这个参数来设置ICMP返回之间的要求默认是1秒
- -a :来设置发送数据包的IP地址 这个对一个主机由多个IP地址是有用的
- -r :已报告模式显示
- -c : 每秒发送多少包，默认为10个。英文是(–report-cycles COUNT)
- –report ：结果显示，并不动态显示

由于网络状况的非对称性，建议收集双向的 MTR 数据下面三个经验总结：

1、丢包发生在目的服务器，则可能是目的服务器的网络配置不当引起；
2、丢包开始于前三跳，一般为本地运营商网络问题；
3、如果丢包发生在接近目的服务器的几跳，则可能为目的服务器运营商的网络问题。
