## JavaScript 发送请求的主要方法总结

## XMLHttpRequest (XHR)‌

最传统的异步请求方式
支持所有现代浏览器
可监控请求进度（上传/下载）
示例：
```js
const xhr = new XMLHttpRequest();
xhr.open('GET', 'url');
xhr.onload = () => console.log(xhr.response);
xhr.send();
```

## Fetch API‌

现代替代方案，基于Promise
更简洁的链式调用语法
默认不携带cookie，需要手动配置
示例：
```js
fetch('url')
  .then(res => res.json())
  .then(data => console.log(data));
```

## navigator.sendBeacon()‌

专为统计/诊断数据设计
在页面卸载时也能可靠发送
适合埋点等非关键请求
示例：
```js
navigator.sendBeacon('log-url', analyticsData);
```

## Axios (第三方库)‌

支持浏览器和Node.js
自动转换JSON数据
提供拦截器、取消请求等高级功能

## WebSocket‌

持久化双向通信
适合实时应用（如聊天室）

## 1 像素图片连接‌
‌
通常用于埋点统计（如用户行为追踪），通过加载透明 1x1 像素的 GIF/PNG 图片，附带查询参数（如用户 ID、事件类型）发送到服务器‌。
‌
动态创建 <img> 标签：
```javascript
const img = new Image();  
img.src = 'https://example.com/track.gif?event=pageview&user=123';  
```
或使用 navigator.sendBeacon() 发送数据（更适合页面卸载场景）‌。

## 特点对比

XHR：最全面但API较旧
Fetch：现代但错误处理较复杂
Beacon：专为页面卸载场景优化
第三方库：功能丰富但增加包体积

注意事项：

同源策略限制需处理CORS
异步请求要考虑错误处理和取消机制
敏感请求需要CSRF防护
