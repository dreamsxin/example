https://firefox-source-docs.mozilla.org/xpcom/stringguide.html

所有的字符串类都是从 `nsAString/nsACString` 这两个抽象基类派生。

| 宽                 | 窄                  |
|-------------------|--------------------|
| nsAString         | nsACString         |
| nsString          | nsCString          |
| nsAutoString      | nsAutoCString      |
| nsDependentString | nsDependentCString |

- nsAString/nsACString: 所有字符串类的基类，定义了xpcom中字符串的基本操作，如赋值、字符存取、基本的字符操作，比较等。nsAString 可以不必是以null（\0）结尾的。（nsAString is not necessarily null-terminated.）
- nsString/nsCString: 从以上两个基类继承而来，可以保证字符串是以null结尾。这两个类允许通过get()方法获取c风格的字符串（以'\0'结尾的字符数组）。

以为所有的字符串类都是从两个基类继承而来的，因为它们共享一些基本的API接口，如一些简单的只读函数：
.Length() - 字符串字符数目 (对于窄字符串类字符是char对于宽字节来说是PRUnichar)。
.IsEmpty() - 最快的可以判断字符串为空的方法. 用这个方法来代替 string.Length == 0
.Equals(string) - 判定两个字符串内容相同.

一些简单的改变字符串的方法：
.Assign(string) - 用string的值给字符串赋值.
.Append(string) - 追加string到字符串.
.Insert(string, position) - 在给定位置（position）的字符前插入string.
.Truncate(length) - 将字符串缩短到length指定的长度.

- char*
Raw character pointer to ASCII (7-bit) string, no string classes used.
- char16_t*
Raw character pointer to UTF-16 string, no string classes used.
- nsAString
UTF-16 string.
- nsACString
8-bit string

- nsCString
```c++
nsCString(value.value().c_str())
```

- Append()

- AppendASCII()

- AppendLiteral()

- AppendPrintf()

- AppendFmt()

- AppendInt()

- AppendFloat()

- LossyAppendUTF16toASCII()

- AppendASCIItoUTF16()

- SetLength()

- Truncate()

- Assign()

- AssignLiteral()

- Adopt()

- CopyASCIItoUTF16()

- LossyCopyUTF16toASCII()

- AppendUTF16toUTF8()

- AppendUTF8toUTF16()

- CopyUTF16toUTF8()

- CopyUTF8toUTF16()
