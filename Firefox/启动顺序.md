- `toolkit\xre\nsAppRunner.cpp`
 - `XREMain::XRE_mainRun()`
- `toolkit\xre\nsXREDirProvider.cpp`
  - `mDirProvider.DoStartup();`
- `toolkit\mozapps\extensions\amManager.sys.mjs`
  - `AddonManagerPrivate.startup();`
```c++
    if (initExtensionManager) {
      // Init the Extension Manager
      nsCOMPtr<nsIObserver> em =
          do_GetService("@mozilla.org/addons/integration;1");
      if (em) {
        em->Observe(nullptr, "addons-startup", nullptr);
      } else {
        NS_WARNING("Failed to create Addons Manager.");
      }
    }
```
```js
amManager.prototype = {
  observe(aSubject, aTopic) {
    switch (aTopic) {
      case "addons-startup":
        AddonManagerPrivate.startup();
        break;

      case "message-manager-close":
      case "message-manager-disconnect":
        this.childClosed(aSubject);
        break;
    }
  },
```
- `netwerk\protocol\http\nsHttpHandler.cpp`
nsHttpHandler::InitUserAgentComponents()
