
## 书签存放数据库地址

```c++
#define DATABASE_FILENAME u"places.sqlite"_ns // 用于书签和历史记录
#define DATABASE_FAVICONS_FILENAME u"favicons.sqlite"_ns
```

## 表结构说明
```go
// moz_anno_attributes
type MozAnnoAttributesInfo struct {
    Id int32 `json:"id"` // 属性ID
    Name string `json:"name"` // 属性名，例如 downloads/metaData - 下载信息，downloads/destinationFileURI - 下载地址
}

// moz_annos
type MozAnnosInfo struct {
    Id int32 `json:"id"`
    PlaceId int32 `json:"place_id"`
    AnnoAttributeId int32 `json:"anno_attribute_id"` // 关联 moz_anno_attributes 表ID
    Content string `json:"content"` // 属性值
    Flags int32 `json:"flags"`
    Expiration int32 `json:"expiration"`
    Type int32 `json:"type"` // 类型 3 - 下载记录
    DateAdded int32 `json:"dateAdded"`
    LastModified int32 `json:"lastModified"`
}

// moz_bookmarks 
type MozBookmarksInfo struct {
    Id int32 `json:"id"` // ID
    Type int32 `json:"type"` // 类型：2 - 分类 1 - 标签
    Fk int32 `json:"fk"` // 外键关联数据表 moz_places ID
    Parent int32 `json:"parent"` // 所属分类ID
    Position int32 `json:"position"` // 排序
    Title string `json:"title"`
    KeywordId int32 `json:"keyword_id"`
    FolderType string `json:"folder_type"`
    DateAdded int32 `json:"dateAdded"`
    LastModified int32 `json:"lastModified"`
    Guid string `json:"guid"`
    SyncStatus int32 `json:"syncStatus"`
    SyncChangeCounter int32 `json:"syncChangeCounter"`
}

// moz_places
type MozPlacesInfo struct {
    Id int32 `json:"id"` // ID
    Url string `json:"url"`
    Title string `json:"title"`
    RevHost string `json:"rev_host"`
    VisitCount int32 `json:"visit_count"`
    Hidden int32 `json:"hidden"`
    Typed int32 `json:"typed"`
    Frecency int32 `json:"frecency"`
    LastVisitDate int32 `json:"last_visit_date"`
    Guid string `json:"guid"`
    ForeignCount int32 `json:"foreign_count"` // 被外部引用次数，例如被 moz_bookmarks 表引用
    UrlHash int32 `json:"url_hash"`
    Description string `json:"description"`
    PreviewImageUrl string `json:"preview_image_url"`
    SiteName string `json:"site_name"`
    OriginId int32 `json:"origin_id"`
    RecalcFrecency int32 `json:"recalc_frecency"`
    AltFrecency int32 `json:"alt_frecency"`
    RecalcAltFrecency int32 `json:"recalc_alt_frecency"`
}
```

## toolkit\components\places\Database.cpp

## toolkit\components\places\nsNavBookmarks.cpp
- nsNavBookmarks::InsertBookmark
- nsNavBookmarks::InsertBookmarkInDB
