
```shell
firefox.exe --remote-debugging-port 9989 -remote-allow-origins *
```

## remote\components\RemoteAgent.sys.mjs

```js
ChromeUtils.defineLazyGetter(lazy, "activeProtocols", () => {
  const protocols = Services.prefs.getIntPref("remote.active-protocols");
  if (protocols < 1 || protocols > 3) {
    throw Error(`Invalid remote protocol identifier: ${protocols}`);
  }

  return protocols;
});
```
```js
  if (
    (lazy.activeProtocols & WEBDRIVER_BIDI_ACTIVE) ===
    WEBDRIVER_BIDI_ACTIVE
  ) {
    this.#webDriverBiDi = new lazy.WebDriverBiDi(this);
    if (this.#enabled) {
      lazy.logger.debug("WebDriver BiDi enabled");
    }
  }

  if ((lazy.activeProtocols & CDP_ACTIVE) === CDP_ACTIVE) {
    this.#cdp = new lazy.CDP(this);
    if (this.#enabled) {
      lazy.logger.debug("CDP enabled");
    }
  }
```
