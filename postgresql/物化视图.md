
```sql
CREATE MATERIALIZED view 物化视图名称 as 查询语句 with DATA

## WITH NO DATA
-- Continuous aggregates
-- Define view
CREATE MATERIALIZED VIEW weather_metrics_daily WITH ( timescaledb.continuous ) AS SELECT
time_bucket ( '1 day', TIME ) AS bucket,
city_name,
AVG ( temp_c ) AS avg_temp,
AVG ( feels_like_c ) AS feels_like_temp,
MAX ( temp_c ) AS max_temp,
MIN ( temp_c ) AS min_temp,
AVG ( pressure_hpa ) AS pressure,
AVG ( humidity_percent ) AS humidity_percent,
AVG ( rain_3h_mm ) AS rain_3h,
AVG ( snow_3h_mm ) AS snow_3h,
AVG ( wind_speed_ms ) AS wind_speed,
AVG ( clouds_percent ) AS clouds 
FROM
	weather_metrics 
GROUP BY
	bucket,
	city_name
WITH NO DATA;
refresh_continuous_aggregate(物化视图名称, 'sdate', 'edate')
```
