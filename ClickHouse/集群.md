```sql
-- 1. 查看所有集群配置
SELECT 
    cluster,
    shard_num,
    shard_weight,
    replica_num,
    host_name,
    host_address,
    port,
    is_local
FROM system.clusters;

SELECT * 
FROM system.clusters 
WHERE cluster = 'cycle_replica_cluster';
```

```sql
-- 1. 查看集群中所有节点的表
SELECT 
    hostName() as node,
    database,
    name as table_name,
    engine,
    total_rows,
    formatReadableSize(total_bytes) as size
FROM clusterAllReplicas('cycle_replica_cluster', system.tables)
WHERE engine NOT LIKE 'System%'
ORDER BY node, database, table_name
FORMAT PrettyCompact;

-- 2. 查看特定数据库的表（比如default）
SELECT 
    hostName() as node,
    name as table_name,
    engine,
    formatReadableSize(total_bytes) as size,
    partition_key,
    sorting_key,
    create_table_query
FROM clusterAllReplicas('cycle_replica_cluster', system.tables)
WHERE database = 'default'
  AND engine NOT LIKE 'System%'
ORDER BY node, table_name;

-- 3. 查看复制表状态
SELECT 
    hostName() as node,
    database,
    table,
    is_leader,
    total_replicas,
    active_replicas,
    replica_is_active
FROM clusterAllReplicas('cycle_replica_cluster', system.replicas)
WHERE database NOT LIKE 'system'
ORDER BY database, table, node;
```
