## 基本原理

在数学中，辗转相除法，又称欧几里得算法，是求最大公约数的算法。辗转相除法首次出现于欧几里得的《几何原本》（第VII卷，命题yⅠ和Ⅱ）中，而在中国则可以追溯至东汉出现的《九章算术》。
两个整数的最大公约数是能够同时整除它们的最大的正整数。

**辗转相除法基于如下原理**

两个整数的最大公约数等于其中较小的数和两数的相除余数的最大公约数。
例如，252和105的最大公约数求解步骤：
求得相除余数：252 / 105 = 2 余 42，所以 252和105的最大公约数就等于 105 和 42 的最大公约数。
105 和 42 的最大公约数又可以继续用相同步骤求：
求得相除余数：105 / 42 = 2 余 21，所以 105 和 42 的最大公约数就等于 42 和 21 的最大公约数。
42 和 21 的最大公约数又可以继续用相同步骤求：
求得相除余数：42 / 21 = 2 余 0，所以 42 和 21 的最大公约数是 21。

在这个过程中，较大的数缩小了，所以继续进行同样的计算可以不断缩小这两个数直至其中一个变成零。这时，所剩下的还没有变成零的数就是两数的最大公约数。由辗转相除法也可以推出，两数的最大公约数可以用两数的整数倍相加来表示，如21 = 5 × 105 + (−2） × 252。这个重要的等式叫做贝祖等式。

## 欧几里得算法过程

如果我们已知两个数 $a$ 和 $b$，如何求出二者的最大公约数呢？

不妨设 $a > b$。

我们发现如果 $b$ 是 $a$ 的约数，那么 $b$ 就是二者的最大公约数。
下面讨论不能整除的情况，即 $a = b \times q + r$，其中 $r < b$。

我们通过证明可以得到 $\gcd(a,b)=\gcd(b,a \bmod b)$，过程如下：

### 证明：

设 $a=bk+c$ ，显然有 $c=a \bmod b$ 。设 $d \mid a,~d \mid b$ ，则 $c=a-bk, \frac{c}{d}=\frac{a}{d}-\frac{b}{d}k$ 。
    
由右边的式子可知 $\frac{c}{d}$ 为整数，即 $d \mid c$ ，所以对于 $a,b$ 的公约数，它也会是 $b,a \bmod b$ 的公约数。
    
### 反过来也需要证明：
    
设 $d \mid b,\~d\mid (a \bmod b)$ ，我们还是可以像之前一样得到以下式子 $\frac{a\bmod b}{d}=\frac{a}{d}-\frac{b}{d}k,~\frac{a\bmod b}{d}+\frac{b}{d}k=\frac{a}{d}$ 。
    
因为左边式子显然为整数，所以 $\frac{a}{d}$ 也为整数，即 $d \mid a$，所以 $b,a\bmod b$ 的公约数也是 $a,b$ 的公约数。
    
既然两式公约数都是相同的，那么最大公约数也会相同。
    
所以得到式子 $\gcd(a,b)=\gcd(b,a\bmod b)$

既然得到了 $\gcd(a, b) = \gcd(b, r)$，这里两个数的大小是不会增大的，那么我们也就得到了关于两个数的最大公约数的一个递归求法。
