## 一、**分支命名规范**

### 1. **常见分支类型前缀**
```
feature/     # 新功能开发
bugfix/      # Bug修复
hotfix/      # 紧急线上修复
release/     # 发布分支
improvement/ # 改进/优化
docs/        # 文档相关
test/        # 测试相关
```

### 2. **推荐的命名格式**

#### **方案A：带有issue/ticket号**
```
feature/JIRA-123-add-user-login
bugfix/GH-456-fix-null-pointer
```

#### **方案B：描述性命名**
```
feature/add-oauth2-support
bugfix/responsive-layout-mobile
```

#### **方案C：组合命名**
```
feature/JIRA-789-dark-mode-toggle
```

## 二、**具体命名规则**

### 1. **使用小写字母和连字符**
✅ 推荐：`feature/user-authentication`  
❌ 避免：`Feature_User_Authentication` 或 `FeatureUserAuth`

### 2. **保持简洁但有描述性**
- 理想长度：3-5个单词
- 示例：`fix/login-form-validation`

### 3. **包含相关标识**
```bash
# 包含用户故事/任务ID
feature/US-123-email-notifications

# 包含GitHub issue号
fix/gh-45-memory-leak
```

## 三、**团队协作规范**

### 1. **统一的分支命名策略**
```bash
# 示例：类型/作者/描述
feature/john/add-payment-gateway
bugfix/sarah/fix-cart-calculation
```

### 2. **日期格式（可选）**
```
release/2024-01-15-v2.3
hotfix/20240116-security-patch
```

## 四、**实际应用示例**

### **开发工作流示例**
```bash
# 1. 创建功能分支
git checkout -b feature/PROJ-101-add-search-filter

# 2. 创建修复分支
git checkout -b bugfix/fix-api-timeout-issue

# 3. 紧急修复
git checkout -b hotfix/critical-security-fix
```

### **分支命名模板**
```bash
# 模板：[类型]/[范围]-[描述]
git checkout -b "feature/frontend-add-dark-mode"
git checkout -b "bugfix/backend-fix-api-response"
```

## 五、**自动化和验证**

### 1. **Git钩子验证（.git/hooks/pre-commit）**
```bash
#!/bin/bash
# 检查分支命名规范
current_branch=$(git rev-parse --abbrev-ref HEAD)

if [[ ! $current_branch =~ ^(feature|bugfix|hotfix|release)/.+$ ]]; then
    echo "错误：分支名不符合规范！"
    echo "请使用: feature/, bugfix/, hotfix/, release/ 开头"
    exit 1
fi
```

### 2. **使用commitizen等工具**
```bash
# 使用工具规范提交和分支
npm install -g commitizen
cz-cli  # 交互式创建符合规范的分支
```

## 六、**特殊场景处理**

### 1. **个人实验性分支**
```
experiment/john/new-algorithm
spike/research-oauth-options
```

### 2. **重构分支**
```
refactor/auth-module-cleanup
chore/upgrade-dependencies
```

## 七、**要避免的常见问题**

### ❌ **不良实践**
1. 使用无意义名称：`test1`, `new-branch`
2. 包含空格：`my feature branch`
3. 过长名称：`feature/add-new-user-registration-with-email-verification-and-profile-setup`
4. 使用特殊字符：`feature/my@branch#123`

### ✅ **最佳实践总结**
1. **一致性**：团队保持统一规范
2. **可读性**：名称清晰表达意图
3. **可搜索**：便于通过名称查找
4. **自动化友好**：便于脚本处理

## 八、**团队规范文档示例**

```markdown
# 分支命名规范

## 格式
`<类型>/<描述>[-<引用号>]`

## 类型
- `feature/`：新功能
- `bugfix/`：Bug修复
- `hotfix/`：紧急修复
- `release/`：发布准备
- `refactor/`：重构

## 示例
feature/add-chat-support
bugfix/GH-123-fix-crash-on-ios
hotfix/security-patch-jan-2024
```

选择适合团队工作流程的命名规范并保持一致是最重要的。建议团队内部讨论确定后，通过文档和自动化工具确保执行。
